<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#FB4747">
    <link rel="manifest" href="manifest.json">

    <title data-i18n="pageTitle">AndroGov | Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        brandRed: '#FB4747',
                        brandBlue: '#4267B2',
                        brandDark: '#1E293B',
                        brandGray: '#F8FAFC'
                    },
                    fontFamily: {
                        sans: ['Tajawal', 'Inter', 'sans-serif'],
                        en: ['Inter', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <style>
        @media print {
            .no-print { display: none !important; }
            body { background: white; }
            .print-area { display: block !important; padding: 20px; }
        }
        .step-active { @apply border-brandBlue text-brandBlue; }
        .step-completed { @apply border-green-500 text-green-500; }
        .step-inactive { @apply border-slate-200 text-slate-400; }
        body { transition: opacity 0.2s ease-in-out; }

        /* Bot Styles */
        .chat-window-anim { transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1); transform-origin: bottom left; }
        .chat-bubble { max-width: 85%; padding: 10px 14px; border-radius: 12px; font-size: 0.9rem; line-height: 1.5; word-wrap: break-word; }
        .chat-bubble.bot { background-color: #f1f5f9; color: #334155; border-bottom-right-radius: 2px; }
        .dark .chat-bubble.bot { background-color: #334155; color: #f8fafc; }
        .chat-bubble.user { background-color: #4267B2; color: white; border-bottom-left-radius: 2px; margin-right: auto; }
        .typing-indicator span { display: inline-block; width: 6px; height: 6px; background-color: #94a3b8; border-radius: 50%; animation: typing 1.4s infinite ease-in-out both; margin: 0 1px; }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
    </style>
</head>
<body class="bg-brandGray dark:bg-slate-900 text-slate-800 dark:text-slate-100 font-sans transition-colors duration-300">

    <div id="sidebar-container" class="no-print"></div>
    
    <div class="main-content-wrapper ltr:md:ml-72 rtl:md:mr-72 transition-all duration-300 flex flex-col min-h-screen">
        <div id="header-container" class="no-print"></div>

        <main class="p-6 space-y-6">
            
            <div class="bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden">
                <div class="absolute top-0 left-0 rtl:left-auto rtl:right-0 w-2 h-full bg-brandBlue"></div>
                <div class="flex flex-col md:flex-row justify-between items-center relative z-10 px-2">
                    <div>
                        <h2 class="text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2">
                            <i class="fa-solid fa-building-columns text-brandBlue"></i> <span data-i18n="termTitle">Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</span>
                        </h2>
                        <p class="text-sm text-slate-500 mt-1" data-i18n="termDesc">Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø© (2025 - 2028)</p>
                    </div>
                    <div class="flex gap-6 text-center mt-4 md:mt-0">
                        <div>
                            <p class="text-[10px] text-slate-400 font-bold uppercase" data-i18n="termStart">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</p>
                            <p class="text-sm font-bold font-en text-slate-700 dark:text-slate-200">06/11/2025</p>
                        </div>
                        <div class="w-px bg-slate-200 dark:bg-slate-700 h-8"></div>
                        <div>
                            <p class="text-[10px] text-slate-400 font-bold uppercase" data-i18n="termEnd">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡</p>
                            <p class="text-sm font-bold font-en text-brandRed">05/11/2028</p>
                        </div>
                        <div class="w-px bg-slate-200 dark:bg-slate-700 h-8"></div>
                        <div>
                            <p class="text-[10px] text-slate-400 font-bold uppercase" data-i18n="status">Ø§Ù„Ø­Ø§Ù„Ø©</p>
                            <span class="text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded font-bold" data-i18n="statusActive">Ø³Ø§Ø±ÙŠØ©</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition">
                    <div class="flex justify-between items-start mb-3">
                        <span class="bg-blue-100 text-blue-700 text-[10px] px-2 py-0.5 rounded font-bold" data-i18n="roleNonExec">ØºÙŠØ± ØªÙ†ÙÙŠØ°ÙŠ</span>
                        <i class="fa-solid fa-crown text-yellow-500 text-lg" title="Chairman"></i>
                    </div>
                    <div class="text-center mb-4">
                        <div class="w-14 h-14 mx-auto bg-slate-100 rounded-full flex items-center justify-center text-lg font-bold text-slate-500 mb-2">A</div>
                        <h3 class="font-bold text-sm" data-i18n="member1Name">Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø§Ù„Ø­ÙˆØ§Ø³</h3>
                        <p class="text-[10px] text-slate-400" data-i18n="member1Role">Ø±Ø¦ÙŠØ³ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition">
                    <div class="flex justify-between items-start mb-3">
                        <span class="bg-purple-100 text-purple-700 text-[10px] px-2 py-0.5 rounded font-bold" data-i18n="roleExec">ØªÙ†ÙÙŠØ°ÙŠ</span>
                        <i class="fa-solid fa-user-tie text-slate-300"></i>
                    </div>
                    <div class="text-center mb-4">
                        <div class="w-14 h-14 mx-auto bg-slate-100 rounded-full flex items-center justify-center text-lg font-bold text-slate-500 mb-2">H</div>
                        <h3 class="font-bold text-sm" data-i18n="member2Name">Ù‡Ø´Ø§Ù… Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ</h3>
                        <p class="text-[10px] text-slate-400" data-i18n="member2Role">Ù†Ø§Ø¦Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ / Ø§Ù„Ø±Ø¦ÙŠØ³ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition">
                    <div class="flex justify-between items-start mb-3">
                        <span class="bg-purple-100 text-purple-700 text-[10px] px-2 py-0.5 rounded font-bold" data-i18n="roleExec">ØªÙ†ÙÙŠØ°ÙŠ</span>
                    </div>
                    <div class="text-center mb-4">
                        <div class="w-14 h-14 mx-auto bg-slate-100 rounded-full flex items-center justify-center text-lg font-bold text-slate-500 mb-2">M</div>
                        <h3 class="font-bold text-sm" data-i18n="member3Name">Ù…Ù†ØµÙˆØ± Ø¨Ù† Ø­Ø³Ù† Ø§Ù„ÙŠØ§Ù…ÙŠ</h3>
                        <p class="text-[10px] text-slate-400" data-i18n="member3Role">Ø¹Ø¶Ùˆ / Ù…Ø¯ÙŠØ± Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©</p>
                    </div>
                </div>
                <div class="bg-white dark:bg-slate-800 p-5 rounded-2xl border border-slate-200 dark:border-slate-700 shadow-sm hover:shadow-md transition">
                    <div class="flex justify-between items-start mb-3">
                        <span class="bg-green-100 text-green-700 text-[10px] px-2 py-0.5 rounded font-bold" data-i18n="roleIndep">Ù…Ø³ØªÙ‚Ù„</span>
                        <i class="fa-solid fa-shield-halved text-slate-300"></i>
                    </div>
                    <div class="text-center mb-4">
                        <div class="w-14 h-14 mx-auto bg-slate-100 rounded-full flex items-center justify-center text-lg font-bold text-slate-500 mb-2">A</div>
                        <h3 class="font-bold text-sm" data-i18n="member4Name">Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø³Ù„Ø·Ø§Ù† Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ</h3>
                        <p class="text-[10px] text-slate-400" data-i18n="member4Role">Ø¹Ø¶Ùˆ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</p>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                
                <div class="lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-bold text-slate-800 dark:text-white flex items-center gap-2">
                            <i class="fa-solid fa-briefcase text-brandRed"></i> <span data-i18n="boardWork">Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø¬Ù„Ø³</span>
                        </h3>
                        <div class="flex gap-2">
                            <button onclick="openResolutionModal()" class="px-3 py-1.5 bg-brandRed text-white rounded-lg text-xs font-bold hover:bg-red-700 flex items-center gap-2 shadow-md transition">
                                <i class="fa-solid fa-pen-nib"></i> <span data-i18n="btnResolution">Ù‚Ø±Ø§Ø± Ø¨Ø§Ù„ØªÙ…Ø±ÙŠØ±</span>
                            </button>
                            <button onclick="startBoardWizard()" class="px-3 py-1.5 bg-slate-800 text-white rounded-lg text-xs font-bold hover:bg-black shadow-md flex items-center gap-2 transition">
                                <i class="fa-solid fa-plus"></i> <span data-i18n="btnNewMeeting">Ø§Ø¬ØªÙ…Ø§Ø¹ Ø¬Ø¯ÙŠØ¯</span>
                            </button>
                        </div>
                    </div>

                    <div class="border-b border-slate-200 dark:border-slate-700 mb-4">
                        <nav class="flex gap-6">
                            <button onclick="switchTab('archive')" class="pb-3 text-sm font-bold text-brandRed border-b-2 border-brandRed tab-btn" data-target="archive" data-i18n="tabLog">Ø³Ø¬Ù„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª</button>
                            <button onclick="switchTab('circular')" class="pb-3 text-sm font-bold text-slate-500 hover:text-slate-700 dark:text-slate-400 border-b-2 border-transparent tab-btn" data-target="circular" data-i18n="tabRes">Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø¨Ø§Ù„ØªÙ…Ø±ÙŠØ±</button>
                        </nav>
                    </div>

                    <div id="tab-archive" class="tab-content block">
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-right rtl:text-right ltr:text-left">
                                <thead class="bg-slate-50 dark:bg-slate-700/50 text-[10px] text-slate-500 uppercase">
                                    <tr>
                                        <th class="p-3" data-i18n="tblNo">Ø§Ù„Ø±Ù‚Ù…</th>
                                        <th class="p-3" data-i18n="tblDate">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                                        <th class="p-3" data-i18n="tblTitle">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
                                        <th class="p-3" data-i18n="tblStatus">Ø­Ø§Ù„Ø© Ø§Ù„ÙˆØ²Ø§Ø±Ø©</th>
                                        <th class="p-3 text-center" data-i18n="tblAction">Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100 dark:divide-slate-700">
                                    <tr class="hover:bg-slate-50 dark:hover:bg-slate-800/50 transition">
                                        <td class="p-3 font-mono">BM-01-2025</td>
                                        <td class="p-3 font-en">07 Nov 2025</td>
                                        <td class="p-3 font-bold text-xs" data-i18n="mtg1Title">Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ø£ÙˆÙ„ (ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ ÙˆÙ†Ø§Ø¦Ø¨Ù‡)</td>
                                        <td class="p-3"><span class="bg-green-100 text-green-700 px-2 py-0.5 rounded text-[10px] border border-green-200"><i class="fa-solid fa-check"></i> <span data-i18n="statusUploaded">ØªÙ… Ø§Ù„Ø±ÙØ¹ ÙˆØ§Ù„Ø¥ÙØ§Ø¯Ø©</span></span></td>
                                        <td class="p-3 text-center">
                                            <button onclick="viewArchiveDoc('BM-01')" class="text-xs bg-white border border-slate-300 px-2 py-1 rounded hover:bg-brandBlue hover:text-white transition" data-i18n="btnView">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div id="tab-circular" class="tab-content hidden space-y-3">
                        <div class="p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-200 dark:border-slate-600 flex justify-between items-center group hover:border-brandRed/30 transition">
                            <div class="flex items-start gap-3">
                                <div class="w-10 h-10 rounded-lg bg-green-100 text-green-600 flex items-center justify-center text-lg shrink-0">
                                    <i class="fa-solid fa-check-double"></i>
                                </div>
                                <div>
                                    <h4 class="font-bold text-sm text-slate-800 dark:text-white" data-i18n="res1Title">ØªØ´ÙƒÙŠÙ„ Ù„Ø¬Ù†Ø© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ø¯ÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©</h4>
                                    <p class="text-xs text-slate-500 mt-1"><span data-i18n="resRef">Ø§Ù„Ù‚Ø±Ø§Ø± Ø±Ù‚Ù…</span>: 251222001 | 22/12/2025</p>
                                </div>
                            </div>
                            <button onclick="viewArchiveDoc('RES-01')" class="text-xs text-brandBlue hover:underline" data-i18n="btnShow">Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø±Ø§Ø±</button>
                        </div>
                    </div>
                </div>

                <div class="lg:col-span-1 space-y-6">
                    
                    <div class="bg-white dark:bg-slate-800 p-5 rounded-3xl shadow-sm border border-slate-100 dark:border-slate-700">
                        <h3 class="font-bold text-sm mb-4 flex items-center gap-2">
                            <i class="fa-solid fa-money-check-dollar text-green-500"></i> <span data-i18n="policyTitle">Ù„Ø§Ø¦Ø­Ø© Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</span>
                        </h3>
                        
                        <div class="overflow-hidden rounded-xl border border-slate-200 dark:border-slate-600">
                            <table class="w-full text-xs text-right rtl:text-right ltr:text-left">
                                <thead class="bg-slate-100 dark:bg-slate-700 text-slate-500">
                                    <tr>
                                        <th class="p-2" data-i18n="polPos">Ø§Ù„Ù…Ù†ØµØ¨</th>
                                        <th class="p-2 font-en" data-i18n="polFee">Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© (SAR)</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100 dark:divide-slate-600 bg-slate-50 dark:bg-slate-700/50">
                                    <tr>
                                        <td class="p-2 font-bold" data-i18n="polBoard">Ø¹Ø¶Ùˆ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</td>
                                        <td class="p-2 font-en text-green-600 font-bold">2,000</td>
                                    </tr>
                                    <tr>
                                        <td class="p-2 font-bold" data-i18n="polComm">Ø¹Ø¶Ùˆ Ù„Ø¬Ù†Ø© Ù…Ù†Ø¨Ø«Ù‚Ø©</td>
                                        <td class="p-2 font-en text-green-600 font-bold">1,500</td>
                                    </tr>
                                    <tr class="bg-yellow-50 dark:bg-yellow-900/10">
                                        <td class="p-2 font-bold text-yellow-800 dark:text-yellow-500" data-i18n="polSec">Ø£Ù…ÙŠÙ† Ø³Ø± Ø§Ù„Ù…Ø¬Ù„Ø³</td>
                                        <td class="p-2 font-en text-green-600 font-bold">1,000</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="mt-3 text-[10px] text-slate-400" data-i18n="polNote">
                            * Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ø§Ù„Ø³Ù†ÙˆÙŠ: 500,000 Ø±ÙŠØ§Ù„ Ù„Ù„Ø¹Ø¶Ùˆ.
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-slate-800 to-slate-900 rounded-3xl p-5 text-white shadow-lg">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center text-lg"><i class="fa-solid fa-feather"></i></div>
                            <div>
                                <p class="text-xs text-slate-400" data-i18n="secTitle">Ø£Ù…ÙŠÙ† Ø³Ø± Ø§Ù„Ù…Ø¬Ù„Ø³</p>
                                <p class="font-bold text-base" data-i18n="secName">Ø£ÙŠÙ…Ù† Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</p>
                            </div>
                        </div>
                        <div class="space-y-2 text-xs border-t border-white/10 pt-3">
                            <div class="flex justify-between">
                                <span class="text-slate-400" data-i18n="secFeeLabel">Ø¨Ø¯Ù„ Ø§Ù„Ø¬Ù„Ø³Ø©:</span>
                                <span class="font-bold text-green-400 font-en">1,000 SAR</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-slate-400" data-i18n="secRespLabel">Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª:</span>
                                <span data-i18n="secResp">Ø¶Ø¨Ø· Ø§Ù„Ù…Ø­Ø§Ø¶Ø±ØŒ Ø§Ù„Ø­ÙØ¸</span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </main>
    </div>

    <div id="boardWizardModal" class="fixed inset-0 bg-black/60 hidden z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white dark:bg-slate-800 w-full max-w-3xl rounded-2xl shadow-2xl flex flex-col max-h-[90vh]">
            <div class="p-5 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center bg-slate-50 dark:bg-slate-900 rounded-t-2xl">
                <div>
                    <h3 class="font-bold text-lg flex items-center gap-2 text-slate-800 dark:text-white">
                        <i class="fa-solid fa-plus-circle text-brandBlue"></i> <span data-i18n="wizNewMtg">Ø§Ø¬ØªÙ…Ø§Ø¹ Ù…Ø¬Ù„Ø³ Ø¥Ø¯Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯</span>
                    </h3>
                    <p class="text-xs text-slate-500 mt-1" id="bz-subtitle">Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø¬Ø¯ÙˆÙ„Ø©</p>
                </div>
                <button onclick="closeBoardWizard()" class="text-slate-400 hover:text-red-500"><i class="fa-solid fa-xmark"></i></button>
            </div>

            <div class="flex-1 p-6 overflow-y-auto" id="wizardContent">
                
                <div id="bz-step1" class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 mb-1" data-i18n="lblMtgNo">Ø±Ù‚Ù… Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹</label>
                            <input type="text" class="w-full border rounded p-2 text-sm bg-slate-50" value="BM-02-2026" readonly>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 mb-1" data-i18n="lblDate">Ø§Ù„ØªØ§Ø±ÙŠØ®</label>
                            <input type="date" class="w-full border rounded p-2 text-sm" id="bz-date">
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-bold text-slate-500 mb-1" data-i18n="lblLoc">Ø§Ù„Ù…ÙƒØ§Ù† / Ø§Ù„Ø±Ø§Ø¨Ø·</label>
                        <input type="text" class="w-full border rounded p-2 text-sm" data-i18n-placeholder="plhLoc" placeholder="Ø§Ù„Ù…Ù‚Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ - Ù‚Ø§Ø¹Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª">
                    </div>
                </div>

                <div id="bz-step2" class="hidden space-y-4">
                    <div class="bg-blue-50 p-3 rounded-lg border border-blue-100 flex justify-between items-center">
                        <span class="text-xs font-bold text-blue-800" data-i18n="wizAttTitle">Ø­Ø¶ÙˆØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ ÙˆØ£Ù…ÙŠÙ† Ø§Ù„Ø³Ø±</span>
                        <span class="text-[10px] text-blue-600" data-i18n="wizAttNote">Ø³ÙŠØªÙ… Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ø¨Ø¯Ù„Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (2000 Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ / 1000 Ù„Ù„Ø£Ù…ÙŠÙ†).</span>
                    </div>
                    <table class="w-full text-sm text-right rtl:text-right ltr:text-left border rounded-lg overflow-hidden">
                        <thead class="bg-slate-100 dark:bg-slate-700">
                            <tr>
                                <th class="p-2" data-i18n="colMember">Ø§Ù„Ø¹Ø¶Ùˆ</th>
                                <th class="p-2" data-i18n="colRole">Ø§Ù„Ù…Ù†ØµØ¨</th>
                                <th class="p-2 text-center" data-i18n="colPres">Ø­Ø§Ø¶Ø±</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-slate-100 dark:divide-slate-700">
                            <tr><td class="p-2" data-i18n="member1Name">Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­ÙˆØ§Ø³</td><td class="p-2 text-xs" data-i18n="roleChair">Ø±Ø¦ÙŠØ³</td><td class="p-2 text-center"><input type="checkbox" checked class="accent-brandBlue bz-att"></td></tr>
                            <tr><td class="p-2" data-i18n="member2Name">Ù‡Ø´Ø§Ù… Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ</td><td class="p-2 text-xs" data-i18n="roleVice">Ù†Ø§Ø¦Ø¨</td><td class="p-2 text-center"><input type="checkbox" checked class="accent-brandBlue bz-att"></td></tr>
                            <tr><td class="p-2" data-i18n="member3Name">Ù…Ù†ØµÙˆØ± Ø§Ù„ÙŠØ§Ù…ÙŠ</td><td class="p-2 text-xs" data-i18n="roleMem">Ø¹Ø¶Ùˆ</td><td class="p-2 text-center"><input type="checkbox" checked class="accent-brandBlue bz-att"></td></tr>
                            <tr><td class="p-2" data-i18n="member4Name">Ø£Ø­Ù…Ø¯ Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ</td><td class="p-2 text-xs" data-i18n="roleMem">Ø¹Ø¶Ùˆ</td><td class="p-2 text-center"><input type="checkbox" checked class="accent-brandBlue bz-att"></td></tr>
                            <tr class="bg-yellow-50/50"><td class="p-2 font-bold text-slate-700" data-i18n="secName">Ø£ÙŠÙ…Ù† Ø§Ù„Ù…ØºØ±Ø¨ÙŠ</td><td class="p-2 text-xs" data-i18n="roleSec">Ø£Ù…ÙŠÙ† Ø³Ø±</td><td class="p-2 text-center"><input type="checkbox" checked class="accent-yellow-600 bz-att"></td></tr>
                        </tbody>
                    </table>
                </div>

                <div id="bz-step3" class="hidden space-y-4">
                    <h4 class="font-bold text-brandBlue border-b pb-2 mb-4" data-i18n="wizDecTitle">3. Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø­Ø¶Ø±</h4>
                    <div class="space-y-3">
                        <div class="p-3 border rounded bg-slate-50">
                            <p class="font-bold text-sm mb-2" data-i18n="wizDecItem1">1. Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø£ÙˆÙ„</p>
                            <div class="flex gap-2 text-xs">
                                <label><input type="radio" name="d1" checked> <span data-i18n="voteApprove">Ù…ÙˆØ§ÙÙ‚Ø©</span></label>
                                <label><input type="radio" name="d1"> <span data-i18n="voteReject">Ø±ÙØ¶</span></label>
                            </div>
                        </div>
                    </div>
                    <button onclick="bzAddAgenda()" class="text-xs bg-slate-100 px-3 py-1 rounded hover:bg-slate-200 w-full font-bold" data-i18n="btnAddItem">+ Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¯</button>
                </div>

                <div id="bz-step4" class="hidden">
                    <div class="bg-white border p-6 rounded shadow-inner text-sm leading-relaxed min-h-[300px]" id="bz-preview">
                        </div>
                </div>
            </div>

            <div class="p-5 border-t border-slate-200 bg-slate-50 dark:bg-slate-900 rounded-b-2xl flex justify-between">
                <button onclick="bzPrev()" id="bz-prev" class="px-4 py-2 border rounded text-xs font-bold bg-white text-slate-600 disabled:opacity-50" disabled data-i18n="prev">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button onclick="bzNext()" id="bz-next" class="px-6 py-2 bg-brandBlue text-white rounded text-xs font-bold hover:bg-blue-700" data-i18n="next">Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </div>
    </div>

    <div id="resolutionModal" class="fixed inset-0 bg-black/60 hidden z-50 flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white dark:bg-slate-800 w-full max-w-lg rounded-2xl shadow-2xl p-6">
            <div class="flex justify-between items-center mb-4 border-b pb-2">
                <h3 class="font-bold text-lg dark:text-white" data-i18n="modalResTitle">Ù‚Ø±Ø§Ø± Ø¨Ø§Ù„ØªÙ…Ø±ÙŠØ±</h3>
                <button onclick="closeModal('resolutionModal')" class="text-slate-400 hover:text-red-500"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="space-y-3">
                <input type="text" class="w-full border rounded p-2 text-sm" data-i18n-placeholder="plhResTitle" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø±Ø§Ø±">
                <textarea class="w-full border rounded p-2 text-sm h-24" data-i18n-placeholder="plhResText" placeholder="Ù†Øµ Ø§Ù„Ù‚Ø±Ø§Ø±..."></textarea>
            </div>
            <div class="mt-4 flex justify-end gap-2">
                <button onclick="alert('ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ (4) Ù„Ù„ØªÙˆÙ‚ÙŠØ¹')" class="px-4 py-2 bg-brandBlue text-white rounded text-xs font-bold" data-i18n="btnSendSign">Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„ØªÙˆÙ‚ÙŠØ¹</button>
            </div>
        </div>
    </div>

    <div id="archiveDetailsModal" class="fixed inset-0 bg-black/60 hidden z-[60] flex items-center justify-center backdrop-blur-sm">
        <div class="bg-white w-[600px] rounded-2xl shadow-xl p-6">
            <div class="flex justify-between items-center mb-4 border-b pb-2">
                <h3 class="font-bold" data-i18n="modalArcTitle">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ (Ø£Ø±Ø´ÙŠÙ)</h3>
                <button onclick="closeModal('archiveDetailsModal')"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="space-y-4 text-sm" id="archiveContent">
                </div>
        </div>
    </div>

    <div id="andro-bot-container" class="fixed bottom-6 left-6 z-50 flex flex-col items-start gap-4 font-sans" dir="rtl">
        <div id="chat-window" class="hidden bg-white dark:bg-slate-800 w-80 md:w-96 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col chat-window-anim" style="height: 500px; max-height: 70vh;">
            <div class="bg-brandBlue p-4 flex justify-between items-center text-white">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 rounded-full bg-white/20 flex items-center justify-center"><i class="fa-solid fa-robot"></i></div>
                    <div><h4 class="font-bold text-sm">AndroBot</h4><p class="text-[10px] text-white/80">Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø­ÙˆÙƒÙ…Ø© Ø§Ù„Ø°ÙƒÙŠ</p></div>
                </div>
                <button id="close-chat-btn" class="text-white/80 hover:text-white transition"><i class="fa-solid fa-times"></i></button>
            </div>
            <div id="chat-body" class="flex-1 p-4 bg-slate-50 dark:bg-slate-900/50 overflow-y-auto custom-scroll space-y-3 flex flex-col">
                <div class="chat-bubble bot">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ğŸ‘‹<br>ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ ØµÙŠØ§ØºØ© Ø§Ù„Ù‚Ø±Ø§Ø±Ø§ØªØŒ Ø£Ùˆ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª.</div>
                <div class="flex flex-wrap gap-2 mt-2" id="suggestions">
                    <button class="suggestion-btn text-xs bg-white border border-brandBlue/30 text-brandBlue px-3 py-1.5 rounded-full" data-q="Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø±Ø¦ÙŠØ³">Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø±Ø¦ÙŠØ³</button>
                    <button class="suggestion-btn text-xs bg-white border border-brandBlue/30 text-brandBlue px-3 py-1.5 rounded-full" data-q="Ù†ØµØ§Ø¨ Ø§Ù„Ù…Ø¬Ù„Ø³">Ù†ØµØ§Ø¨ Ø§Ù„Ù…Ø¬Ù„Ø³</button>
                </div>
            </div>
            <div class="p-3 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 flex gap-2">
                <input type="text" id="chat-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³ØªÙØ³Ø§Ø±Ùƒ..." class="flex-1 bg-slate-100 dark:bg-slate-900 border-none rounded-lg text-sm px-4 py-2 focus:ring-2 focus:ring-brandBlue outline-none dark:text-white">
                <button id="send-btn" class="w-10 h-10 rounded-lg bg-brandBlue text-white hover:bg-blue-700 transition flex items-center justify-center"><i class="fa-solid fa-paper-plane"></i></button>
            </div>
        </div>
        <button id="chat-fab" class="w-14 h-14 bg-brandBlue hover:bg-blue-700 text-white rounded-full shadow-lg shadow-blue-600/30 flex items-center justify-center text-2xl transition-all transform hover:scale-110 active:scale-95 animate-bounce-slow">
            <i class="fa-solid fa-comment-dots"></i>
            <span class="absolute top-0 right-0 w-4 h-4 bg-brandRed rounded-full border-2 border-white dark:border-slate-900"></span>
        </button>
    </div>

    <script src="data/company_policy.js"></script>
    <script src="js/core/config.js"></script>
    <script src="js/core/i18n.js"></script>
    <script src="js/helpers/policy-helpers.js"></script>
    <script src="js/services/data-service.js"></script>
    <script src="js/components/role-switcher.js"></script>
    <script src="js/components/layout.js"></script>
    <script src="js/components/bot.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const checkSystem = setInterval(() => {
                if (typeof Layout !== 'undefined' && typeof AppConfig !== 'undefined' && typeof DataService !== 'undefined') {
                    clearInterval(checkSystem);
                    
                    if (!AppConfig.getCurrentUser()) {
                        console.log('âš ï¸ No user found. Auto-logging as Admin...');
                        const defaultUser = DataService.getUserById('USR_004') || DataService.getUsers()[0];
                        if (defaultUser) {
                            AppConfig.setCurrentUser(defaultUser);
                            location.reload();
                            return;
                        }
                    }

                    Layout.init();
                    document.getElementById('loadingOverlay')?.classList.add('hidden');
                    
                    // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø®Ø§ØµØ©
                    if (typeof initPage === 'function') {
                        initPage();
                    }
                }
            }, 50);
        });
    </script>
    <script>
        // --- Translation Dictionary ---
        const t = {
            ar: {
                pageTitle: "AndroGov | Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©",
                termTitle: "Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©",
                termDesc: "Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø®Ø§Ù…Ø³Ø© (2025 - 2028)",
                termStart: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©",
                termEnd: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡",
                status: "Ø§Ù„Ø­Ø§Ù„Ø©",
                statusActive: "Ø³Ø§Ø±ÙŠØ©",
                roleNonExec: "ØºÙŠØ± ØªÙ†ÙÙŠØ°ÙŠ",
                roleExec: "ØªÙ†ÙÙŠØ°ÙŠ",
                roleIndep: "Ù…Ø³ØªÙ‚Ù„",
                member1Name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø§Ù„Ø­ÙˆØ§Ø³",
                member1Role: "Ø±Ø¦ÙŠØ³ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©",
                member2Name: "Ù‡Ø´Ø§Ù… Ø¨Ù† Ù…Ø­Ù…Ø¯ Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ",
                member2Role: "Ù†Ø§Ø¦Ø¨ Ø§Ù„Ø±Ø¦ÙŠØ³ / Ø§Ù„Ø±Ø¦ÙŠØ³ Ø§Ù„ØªÙ†ÙÙŠØ°ÙŠ",
                member3Name: "Ù…Ù†ØµÙˆØ± Ø¨Ù† Ø­Ø³Ù† Ø§Ù„ÙŠØ§Ù…ÙŠ",
                member3Role: "Ø¹Ø¶Ùˆ / Ù…Ø¯ÙŠØ± Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©",
                member4Name: "Ø£Ø­Ù…Ø¯ Ø¨Ù† Ø³Ù„Ø·Ø§Ù† Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ",
                member4Role: "Ø¹Ø¶Ùˆ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©",
                boardWork: "Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ù…Ø¬Ù„Ø³",
                btnResolution: "Ù‚Ø±Ø§Ø± Ø¨Ø§Ù„ØªÙ…Ø±ÙŠØ±",
                btnNewMeeting: "Ø§Ø¬ØªÙ…Ø§Ø¹ Ø¬Ø¯ÙŠØ¯",
                tabLog: "Ø³Ø¬Ù„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª",
                tabRes: "Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø¨Ø§Ù„ØªÙ…Ø±ÙŠØ±",
                tblNo: "Ø§Ù„Ø±Ù‚Ù…",
                tblDate: "Ø§Ù„ØªØ§Ø±ÙŠØ®",
                tblTitle: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",
                tblStatus: "Ø­Ø§Ù„Ø© Ø§Ù„ÙˆØ²Ø§Ø±Ø©",
                tblAction: "Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª",
                mtg1Title: "Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ø£ÙˆÙ„ (ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ ÙˆÙ†Ø§Ø¦Ø¨Ù‡)",
                statusUploaded: "ØªÙ… Ø§Ù„Ø±ÙØ¹ ÙˆØ§Ù„Ø¥ÙØ§Ø¯Ø©",
                btnView: "Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„",
                res1Title: "ØªØ´ÙƒÙŠÙ„ Ù„Ø¬Ù†Ø© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ø¯ÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©",
                resRef: "Ø§Ù„Ù‚Ø±Ø§Ø± Ø±Ù‚Ù…",
                btnShow: "Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø±Ø§Ø±",
                policyTitle: "Ù„Ø§Ø¦Ø­Ø© Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©",
                polPos: "Ø§Ù„Ù…Ù†ØµØ¨",
                polFee: "Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© (SAR)",
                polBoard: "Ø¹Ø¶Ùˆ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©",
                polComm: "Ø¹Ø¶Ùˆ Ù„Ø¬Ù†Ø© Ù…Ù†Ø¨Ø«Ù‚Ø©",
                polSec: "Ø£Ù…ÙŠÙ† Ø³Ø± Ø§Ù„Ù…Ø¬Ù„Ø³",
                polNote: "* Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ø§Ù„Ø³Ù†ÙˆÙŠ: 500,000 Ø±ÙŠØ§Ù„ Ù„Ù„Ø¹Ø¶Ùˆ.",
                secTitle: "Ø£Ù…ÙŠÙ† Ø³Ø± Ø§Ù„Ù…Ø¬Ù„Ø³",
                secName: "Ø£ÙŠÙ…Ù† Ø§Ù„Ù…ØºØ±Ø¨ÙŠ",
                secFeeLabel: "Ø¨Ø¯Ù„ Ø§Ù„Ø¬Ù„Ø³Ø©:",
                secRespLabel: "Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª:",
                secResp: "Ø¶Ø¨Ø· Ø§Ù„Ù…Ø­Ø§Ø¶Ø±ØŒ Ø§Ù„Ø­ÙØ¸",
                wizNewMtg: "Ø§Ø¬ØªÙ…Ø§Ø¹ Ù…Ø¬Ù„Ø³ Ø¥Ø¯Ø§Ø±Ø© Ø¬Ø¯ÙŠØ¯",
                wizStep1: "Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯",
                wizStep2: "Ø§Ù„Ø­Ø¶ÙˆØ±",
                wizStep3: "Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª",
                wizStep4: "Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©",
                lblMtgNo: "Ø±Ù‚Ù… Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹",
                lblDate: "Ø§Ù„ØªØ§Ø±ÙŠØ®",
                lblLoc: "Ø§Ù„Ù…ÙƒØ§Ù† / Ø§Ù„Ø±Ø§Ø¨Ø·",
                plhLoc: "Ø§Ù„Ù…Ù‚Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ - Ù‚Ø§Ø¹Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª",
                wizAttTitle: "Ø­Ø¶ÙˆØ± Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ ÙˆØ£Ù…ÙŠÙ† Ø§Ù„Ø³Ø±",
                wizAttNote: "Ø³ÙŠØªÙ… Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ø¨Ø¯Ù„Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ (2000 Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ / 1000 Ù„Ù„Ø£Ù…ÙŠÙ†).",
                colMember: "Ø§Ù„Ø¹Ø¶Ùˆ",
                colRole: "Ø§Ù„Ù…Ù†ØµØ¨",
                colPres: "Ø­Ø§Ø¶Ø±",
                roleChair: "Ø±Ø¦ÙŠØ³",
                roleVice: "Ù†Ø§Ø¦Ø¨",
                roleMem: "Ø¹Ø¶Ùˆ",
                roleSec: "Ø£Ù…ÙŠÙ† Ø³Ø±",
                wizDecTitle: "3. Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ø­Ø¶Ø±",
                wizDecItem1: "1. Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø£ÙˆÙ„",
                voteApprove: "Ù…ÙˆØ§ÙÙ‚Ø©",
                voteReject: "Ø±ÙØ¶",
                btnAddItem: "+ Ø¥Ø¶Ø§ÙØ© Ø¨Ù†Ø¯",
                prev: "Ø§Ù„Ø³Ø§Ø¨Ù‚",
                next: "Ø§Ù„ØªØ§Ù„ÙŠ",
                finish: "Ø­ÙØ¸ Ù†Ù‡Ø§Ø¦ÙŠ",
                modalResTitle: "Ù‚Ø±Ø§Ø± Ø¨Ø§Ù„ØªÙ…Ø±ÙŠØ±",
                plhResTitle: "Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø±Ø§Ø±",
                plhResText: "Ù†Øµ Ø§Ù„Ù‚Ø±Ø§Ø±...",
                btnSendSign: "Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„ØªÙˆÙ‚ÙŠØ¹",
                modalArcTitle: "ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ (Ø£Ø±Ø´ÙŠÙ)",
                mtgDetails: "Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ Ø§Ù„Ø£ÙˆÙ„ (ØªØ£Ø³ÙŠØ³ÙŠ Ù„Ù„Ø¯ÙˆØ±Ø©)",
                mtgDate: "22 Dec 2025",
                dec1: "ØªØ¹ÙŠÙŠÙ† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­ÙˆØ§Ø³ Ø±Ø¦ÙŠØ³Ø§Ù‹.",
                dec2: "ØªØ¹ÙŠÙŠÙ† Ù‡Ø´Ø§Ù… Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ Ù†Ø§Ø¦Ø¨Ø§Ù‹ ÙˆØ±Ø¦ÙŠØ³Ø§Ù‹ ØªÙ†ÙÙŠØ°ÙŠØ§Ù‹.",
                dec3: "ØªØ¹ÙŠÙŠÙ† Ø£ÙŠÙ…Ù† Ø§Ù„Ù…ØºØ±Ø¨ÙŠ Ø£Ù…ÙŠÙ†Ø§Ù‹ Ù„Ù„Ø³Ø±.",
                statusMinistry: "ØªÙ… Ø±ÙØ¹ Ø§Ù„Ø¥Ø­Ø§Ø·Ø© Ù„ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ¬Ø§Ø±Ø©"
            },
            en: {
                pageTitle: "AndroGov | Board of Directors",
                termTitle: "Current Board Term",
                termDesc: "5th Cycle (2025 - 2028)",
                termStart: "Start Date",
                termEnd: "End Date",
                status: "Status",
                statusActive: "Active",
                roleNonExec: "Non-Executive",
                roleExec: "Executive",
                roleIndep: "Independent",
                member1Name: "Abdullah Al-Hawas",
                member1Role: "Chairman of the Board",
                member2Name: "Hesham Al-Suhaibani",
                member2Role: "Vice Chairman / CEO",
                member3Name: "Mansour Al-Yami",
                member3Role: "Member / Admin Affairs Manager",
                member4Name: "Ahmed Al-Suhaibani",
                member4Role: "Board Member",
                boardWork: "Board Business",
                btnResolution: "Circular Resolution",
                btnNewMeeting: "New Meeting",
                tabLog: "Meeting Log",
                tabRes: "Resolutions",
                tblNo: "No.",
                tblDate: "Date",
                tblTitle: "Title",
                tblStatus: "MOC Status",
                tblAction: "Actions",
                mtg1Title: "First Meeting (Appointing Chair/Vice)",
                statusUploaded: "Uploaded & Notified",
                btnView: "View Details",
                res1Title: "Formation of Audit Committee",
                resRef: "Ref No",
                btnShow: "View Resolution",
                policyTitle: "Remuneration Policy",
                polPos: "Position",
                polFee: "Fee (SAR)",
                polBoard: "Board Member",
                polComm: "Committee Member",
                polSec: "Board Secretary",
                polNote: "* Annual Cap: 500,000 SAR per member.",
                secTitle: "Board Secretary",
                secName: "Ayman Almaghrabi",
                secFeeLabel: "Meeting Fee:",
                secRespLabel: "Duties:",
                secResp: "Minutes, Records",
                wizNewMtg: "New Board Meeting",
                wizStep1: "Setup",
                wizStep2: "Attendance",
                wizStep3: "Decisions",
                wizStep4: "Preview",
                lblMtgNo: "Meeting No",
                lblDate: "Date",
                lblLoc: "Location / Link",
                plhLoc: "HQ - Meeting Room",
                wizAttTitle: "Attendance",
                wizAttNote: "Allowances calc automatically (2000 Member / 1000 Sec).",
                colMember: "Member",
                colRole: "Role",
                colPres: "Present",
                roleChair: "Chairman",
                roleVice: "Vice",
                roleMem: "Member",
                roleSec: "Secretary",
                wizDecTitle: "3. Decisions & Minutes",
                wizDecItem1: "1. Q1 Performance Review",
                voteApprove: "Approve",
                voteReject: "Reject",
                btnAddItem: "+ Add Item",
                prev: "Previous",
                next: "Next",
                finish: "Save & Finish",
                modalResTitle: "Circular Resolution",
                plhResTitle: "Resolution Title",
                plhResText: "Resolution Text...",
                btnSendSign: "Send for Signature",
                modalArcTitle: "Meeting Details (Archive)",
                mtgDetails: "First Meeting (Founding)",
                mtgDate: "22 Dec 2025",
                dec1: "Appointed Abdullah Al-Hawas as Chairman.",
                dec2: "Appointed Hesham Al-Suhaibani as Vice/CEO.",
                dec3: "Appointed Ayman Almaghrabi as Secretary.",
                statusMinistry: "Uploaded to Ministry of Commerce"
            }
        };

        // --- Logic ---
        let bzStep = 1;
        let bzData = { agenda: [] };

        // ===== Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‡Ù†Ø§: ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¥Ù„Ù‰ Ø¯Ø§Ù„Ø© initPage =====
        function initPage() {
            updatePageLanguage();
        }

        window.updatePageLanguage = function() {
            const lang = localStorage.getItem('lang') || 'ar';
            const dict = t[lang];
            
            // Set Document Direction
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

            // Update Static Text
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if(dict[key]) el.innerText = dict[key];
            });

            // Update Placeholders
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                if(dict[key]) el.placeholder = dict[key];
            });
            
            // Set initial Agenda item text based on lang
            bzData.agenda = [lang === 'ar' ? "Ù…Ø±Ø§Ø¬Ø¹Ø© Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø¨Ø¹ Ø§Ù„Ø³Ø§Ø¨Ù‚" : "Review Previous Quarter Performance"];
        }

        // --- Board Wizard Logic ---
        window.startBoardWizard = function() {
            document.getElementById('boardWizardModal').classList.remove('hidden');
            bzStep = 1;
            updateBzUI();
        }

        window.closeBoardWizard = function() {
            document.getElementById('boardWizardModal').classList.add('hidden');
        }

        window.bzNext = function() {
            const lang = localStorage.getItem('lang') || 'ar';
            if(bzStep < 4) {
                bzStep++;
                updateBzUI();
                if(bzStep === 4) renderBzPreview();
            } else {
                alert(lang === 'ar' ? "ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù…Ø­Ø¶Ø± ÙˆØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©." : "Minutes saved and remuneration recorded.");
                closeBoardWizard();
            }
        }

        window.bzPrev = function() {
            if(bzStep > 1) {
                bzStep--;
                updateBzUI();
            }
        }

        window.updateBzUI = function() {
            const lang = localStorage.getItem('lang') || 'ar';
            const dict = t[lang];

            for(let i=1; i<=4; i++) document.getElementById(`bz-step${i}`).classList.add('hidden');
            document.getElementById(`bz-step${bzStep}`).classList.remove('hidden');
            
            const stepTitleKey = `wizStep${bzStep}`;
            document.getElementById('bz-subtitle').innerText = `${lang==='ar'?'Ø§Ù„Ø®Ø·ÙˆØ©':'Step'} ${bzStep}: ${dict[stepTitleKey]}`;

            document.getElementById('bz-prev').disabled = bzStep === 1;
            document.getElementById('bz-next').innerText = bzStep === 4 ? dict.finish : dict.next;
        }

        window.bzAddAgenda = function() {
            const lang = localStorage.getItem('lang') || 'ar';
            const txt = prompt(lang === 'ar' ? "Ù†Øµ Ø§Ù„Ø¨Ù†Ø¯:" : "Item Text:");
            if(txt) {
                bzData.agenda.push(txt);
                alert(lang === 'ar' ? "ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©" : "Added");
            }
        }

        window.renderBzPreview = function() {
            const lang = localStorage.getItem('lang') || 'ar';
            const date = document.getElementById('bz-date').value || new Date().toLocaleDateString();
            
            if(lang === 'ar') {
                document.getElementById('bz-preview').innerHTML = `
                    <h3 class="text-center font-bold text-lg mb-2">Ù…Ø­Ø¶Ø± Ø§Ø¬ØªÙ…Ø§Ø¹ Ù…Ø¬Ù„Ø³ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø±Ù‚Ù… (02)</h3>
                    <p class="text-center text-xs mb-4">Ø§Ù„ØªØ§Ø±ÙŠØ®: ${date}</p>
                    <p><strong>Ø§Ù„Ø­Ø¶ÙˆØ±:</strong> Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­ÙˆØ§Ø³ØŒ Ù‡Ø´Ø§Ù… Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠØŒ Ù…Ù†ØµÙˆØ± Ø§Ù„ÙŠØ§Ù…ÙŠØŒ Ø£Ø­Ù…Ø¯ Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ.</p>
                    <p><strong>Ø£Ù…ÙŠÙ† Ø§Ù„Ø³Ø±:</strong> Ø£ÙŠÙ…Ù† Ø§Ù„Ù…ØºØ±Ø¨ÙŠ (Ø­Ø¶ÙˆØ±).</p>
                    <div class="my-4 border-t border-b py-2 bg-slate-50 text-center text-xs text-green-700">
                        ØªÙ… Ø§Ø­ØªØ³Ø§Ø¨ Ù…ÙƒØ§ÙØ£Ø© Ø­Ø¶ÙˆØ± 2000 Ø±ÙŠØ§Ù„ Ù„Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ùˆ 1000 Ø±ÙŠØ§Ù„ Ù„Ø£Ù…ÙŠÙ† Ø§Ù„Ø³Ø±.
                    </div>
                    <p class="mt-2"><strong>Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª:</strong></p>
                    <ul class="list-disc list-inside">
                        ${bzData.agenda.map(a => `<li>${a} (ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©)</li>`).join('')}
                    </ul>
                `;
            } else {
                document.getElementById('bz-preview').innerHTML = `
                    <h3 class="text-center font-bold text-lg mb-2">Board Meeting Minutes No. (02)</h3>
                    <p class="text-center text-xs mb-4">Date: ${date}</p>
                    <p><strong>Attendees:</strong> Abdullah Al-Hawas, Hesham Al-Suhaibani, Mansour Al-Yami, Ahmed Al-Suhaibani.</p>
                    <p><strong>Secretary:</strong> Ayman Almaghrabi (Present).</p>
                    <div class="my-4 border-t border-b py-2 bg-slate-50 text-center text-xs text-green-700">
                        Meeting allowance calculated: 2000 SAR for Members, 1000 SAR for Secretary.
                    </div>
                    <p class="mt-2"><strong>Decisions:</strong></p>
                    <ul class="list-disc list-inside">
                        ${bzData.agenda.map(a => `<li>${a} (Approved)</li>`).join('')}
                    </ul>
                `;
            }
        }

        // --- Archive View ---
        window.viewArchiveDoc = function(id) {
            const lang = localStorage.getItem('lang') || 'ar';
            const dict = t[lang];
            const modal = document.getElementById('archiveDetailsModal');
            const content = document.getElementById('archiveContent');
            modal.classList.remove('hidden');
            
            if (id === 'BM-01') {
                content.innerHTML = `
                    <div class="bg-slate-50 dark:bg-slate-700 p-3 rounded border mb-3">
                        <p class="font-bold">${dict.mtgDetails}</p>
                        <p class="text-xs text-slate-500 dark:text-slate-400">${dict.mtgDate}</p>
                    </div>
                    <ul class="space-y-2">
                        <li class="flex items-center gap-2"><i class="fa-solid fa-check text-green-500"></i> ${dict.dec1}</li>
                        <li class="flex items-center gap-2"><i class="fa-solid fa-check text-green-500"></i> ${dict.dec2}</li>
                        <li class="flex items-center gap-2"><i class="fa-solid fa-check text-green-500"></i> ${dict.dec3}</li>
                    </ul>
                    <div class="mt-4 pt-4 border-t flex justify-between items-center">
                        <span class="text-xs bg-green-100 text-green-700 px-2 py-1 rounded font-bold">${dict.statusMinistry}</span>
                    </div>
                `;
            } else if (id === 'RES-01') {
                 content.innerHTML = `
                    <div class="p-3 bg-white dark:bg-slate-800 border rounded">
                        <h4 class="font-bold">${dict.res1Title}</h4>
                        <p class="text-xs mt-2 text-slate-500">Decision No: 251222001</p>
                    </div>
                `;
            }
        }

        // --- Tabs ---
        window.switchTab = function(target) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(el => {
                el.classList.remove('text-brandRed', 'border-brandRed');
                el.classList.add('text-slate-500', 'border-transparent');
            });
            document.getElementById(`tab-${target}`).classList.remove('hidden');
            const btn = document.querySelector(`button[data-target="${target}"]`);
            if(btn) {
                btn.classList.remove('text-slate-500', 'border-transparent');
                btn.classList.add('text-brandRed', 'border-brandRed');
            }
        }

        // --- Modals ---
        window.openResolutionModal = function() { document.getElementById('resolutionModal').classList.remove('hidden'); }
        window.closeModal = function(id) { document.getElementById(id).classList.add('hidden'); }

    </script>
      
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function () {
      navigator.serviceWorker
        .register('service-worker.js')
        .catch(function (err) {
          console.warn('Service worker registration failed:', err);
        });
    });
  }
</script>
</body>
</html>
