<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#FB4747">
    <title>Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙˆØ§Ù„ØªÙˆØ§ØµÙ„ | AndroGov</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = { 
            darkMode: 'class', 
            theme: { 
                extend: { 
                    colors: { brandRed: '#FB4747', brandDark: '#1E293B' }, 
                    fontFamily: { sans: ['Tajawal', 'sans-serif'] } 
                } 
            } 
        }
    </script>
    <style>
        .custom-scroll::-webkit-scrollbar { width: 5px; }
        .custom-scroll::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 10px; }
        .custom-scroll::-webkit-scrollbar-track { background-color: transparent; }
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-white font-sans transition-colors duration-300 opacity-0">

    <div id="sidebar-container"></div>

    <div class="main-content-wrapper transition-all duration-300 flex flex-col min-h-screen rtl:lg:mr-64 ltr:lg:ml-64">
        
        <div id="header-container"></div>

        <main class="p-8 grid grid-cols-1 lg:grid-cols-3 gap-8 fade-in">
            
            <div class="lg:col-span-2 space-y-6">
                <div class="bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm">
                    <h3 class="font-bold text-lg mb-4 flex items-center gap-2">
                        <i class="fa-solid fa-file-signature text-brandRed"></i> Ø±ÙØ¹ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
                    </h3>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
                        <button onclick="alert('Ø¬Ø§Ø±ÙŠ ÙØªØ­ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø·Ø§Ù„Ø¨Ø©...')" class="p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-brandRed hover:bg-red-50 dark:hover:bg-red-900/10 transition text-center group">
                            <i class="fa-solid fa-money-bill-transfer text-2xl text-slate-400 group-hover:text-brandRed mb-2 block transition-colors"></i>
                            <span class="text-xs font-bold">Ù…Ø·Ø§Ù„Ø¨Ø© Ø¨Ø£Ø±Ø¨Ø§Ø­</span>
                        </button>
                        <button class="p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-brandRed hover:bg-red-50 dark:hover:bg-red-900/10 transition text-center group">
                            <i class="fa-solid fa-file-contract text-2xl text-slate-400 group-hover:text-brandRed mb-2 block transition-colors"></i>
                            <span class="text-xs font-bold">ØªØ­Ø¯ÙŠØ« Ø´Ù‡Ø§Ø¯Ø©</span>
                        </button>
                        <button class="p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-brandRed hover:bg-red-50 dark:hover:bg-red-900/10 transition text-center group">
                            <i class="fa-solid fa-handshake text-2xl text-slate-400 group-hover:text-brandRed mb-2 block transition-colors"></i>
                            <span class="text-xs font-bold">Ø¥Ø´Ø¹Ø§Ø± ØªÙ†Ø§Ø²Ù„</span>
                        </button>
                        <button class="p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-brandRed hover:bg-red-50 dark:hover:bg-red-900/10 transition text-center group">
                            <i class="fa-solid fa-circle-question text-2xl text-slate-400 group-hover:text-brandRed mb-2 block transition-colors"></i>
                            <span class="text-xs font-bold">Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ø§Ù…</span>
                        </button>
                    </div>
                    
                    <h4 class="font-bold text-sm mb-3 text-slate-500">Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h4>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center shrink-0"><i class="fa-solid fa-clock"></i></div>
                                <div>
                                    <p class="text-sm font-bold">Ø·Ù„Ø¨ ØªØ­Ø¯ÙŠØ« Ø±Ù‚Ù… Ø§Ù„Ø¢ÙŠØ¨Ø§Ù†</p>
                                    <p class="text-xs text-slate-400">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ #REQ-2026-89 â€¢ Ù…Ù†Ø° ÙŠÙˆÙ…ÙŠÙ†</p>
                                </div>
                            </div>
                            <span class="px-3 py-1 bg-yellow-100 text-yellow-700 rounded-lg text-xs font-bold">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</span>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700 transition">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center shrink-0"><i class="fa-solid fa-check"></i></div>
                                <div>
                                    <p class="text-sm font-bold">Ø¥ØµØ¯Ø§Ø± Ø´Ù‡Ø§Ø¯Ø© Ø£Ø³Ù‡Ù… Ø¨Ø¯Ù„ ÙØ§Ù‚Ø¯</p>
                                    <p class="text-xs text-slate-400">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨ #REQ-2025-112 â€¢ 20 Ø¯ÙŠØ³Ù…Ø¨Ø± 2025</p>
                                </div>
                            </div>
                            <span class="px-3 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-bold">Ù…ÙƒØªÙ…Ù„</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-1">
                <div class="bg-white dark:bg-slate-800 rounded-3xl p-6 border border-slate-100 dark:border-slate-700 shadow-sm h-full flex flex-col min-h-[500px]">
                    <div class="mb-4 pb-4 border-b border-slate-100 dark:border-slate-700">
                        <h3 class="font-bold text-lg flex items-center gap-2">
                            <i class="fa-solid fa-comments text-blue-500"></i> ØªÙˆØ§ØµÙ„ Ù…Ø¨Ø§Ø´Ø± (IR)
                        </h3>
                        <div class="flex items-center gap-2 mt-1">
                            <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                            <p class="text-xs text-slate-400">ÙØ±ÙŠÙ‚ Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±ÙŠÙ† Ù…ØªØ§Ø­ Ù„Ù„Ø±Ø¯ Ø§Ù„ÙÙˆØ±ÙŠ.</p>
                        </div>
                    </div>

                    <div id="chatBox" class="flex-1 bg-slate-50 dark:bg-slate-900 rounded-2xl p-4 mb-4 overflow-y-auto custom-scroll space-y-4 max-h-[400px]">
                        <div class="flex gap-3">
                            <img src="https://ui-avatars.com/api/?name=IR+Support&background=0F172A&color=fff" class="w-8 h-8 rounded-full shadow-sm">
                            <div class="bg-white dark:bg-slate-800 p-3 rounded-2xl rounded-tr-none text-xs shadow-sm dark:text-slate-200 border border-slate-100 dark:border-slate-700">
                                Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ Ø´Ø±ÙŠÙƒÙ†Ø§ Ø§Ù„Ø¹Ø²ÙŠØ²ØŒ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø®Ø¯Ù…ØªÙƒ Ø§Ù„ÙŠÙˆÙ…ØŸ
                                <div class="text-[10px] text-slate-400 mt-1">09:00 Øµ</div>
                            </div>
                        </div>
                    </div>

                    <form onsubmit="handleChatSubmit(event)" class="relative mt-auto">
                        <input id="chatInput" type="text" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." class="w-full p-4 pl-12 bg-slate-50 dark:bg-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-brandRed dark:text-white border border-transparent focus:border-brandRed transition-all">
                        <button type="submit" class="absolute left-2 top-2 p-2 bg-brandRed text-white rounded-lg hover:bg-red-700 transition shadow-lg shadow-red-500/20">
                            <i class="fa-solid fa-paper-plane text-xs"></i>
                        </button>
                    </form>
                    
                    <div class="mt-4 pt-4 border-t border-slate-100 dark:border-slate-700 text-center">
                        <p class="text-xs text-slate-400 mb-2">Ù‚Ù†ÙˆØ§Øª ØªÙˆØ§ØµÙ„ Ø¥Ø¶Ø§ÙÙŠØ©:</p>
                        <div class="flex justify-center gap-4">
                            <a href="mailto:ir@androomeda.com" class="flex items-center gap-1 text-slate-500 hover:text-brandRed text-xs font-bold transition"><i class="fa-solid fa-envelope"></i> Ø§Ù„Ø¨Ø±ÙŠØ¯</a>
                            <span class="text-slate-300">|</span>
                            <a href="tel:920000000" class="flex items-center gap-1 text-slate-500 hover:text-brandRed text-xs font-bold transition"><i class="fa-solid fa-phone"></i> 92000</a>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <script src="data/company_policy.js"></script>
    <script src="js/components/layout.js"></script>
    <script src="js/components/bot.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // 1. Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³Ø§Ù‡Ù… (ÙˆØ§Ø¦Ù„ Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ)
            const shareholderUser = {
                id: 'SH_USER_003',
                name: 'ÙˆØ§Ø¦Ù„ Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ',
                displayName: 'ÙˆØ§Ø¦Ù„ Ø§Ù„Ø³Ø­ÙŠØ¨Ø§Ù†ÙŠ',
                role: 'shareholder',
                email: 'w961@live.com',
                avatar: 'https://ui-avatars.com/api/?name=Wael+AlSuhaibani&background=EAB308&color=fff'
            };
            
            // 2. ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            localStorage.setItem('currentUser', JSON.stringify(shareholderUser));
            localStorage.setItem('activeRole', 'shareholder');

            // 3. ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø­Ø±Ùƒ
            const checkLibs = setInterval(() => {
                if (typeof Layout !== 'undefined') {
                    clearInterval(checkLibs);
                    
                    Layout.init();
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØµÙØ­Ø©
                    document.body.style.opacity = '1';
                    console.log("ğŸš€ Shareholder Requests Loaded Successfully");
                }
            }, 50);
        });

        // Chat Functionality
        function handleChatSubmit(e) {
            e.preventDefault();
            const input = document.getElementById('chatInput');
            const chatBox = document.getElementById('chatBox');
            const msgText = input.value.trim();
            
            if (!msgText) return;

            const time = new Date().toLocaleTimeString('ar-SA', { hour: '2-digit', minute: '2-digit' });
            
            // User Message
            const msgHtml = `
                <div class="flex gap-3 flex-row-reverse fade-in">
                    <div class="w-8 h-8 rounded-full bg-brandRed text-white flex items-center justify-center text-[10px] shadow-sm">Ø£Ù†Ø§</div>
                    <div class="bg-brandRed text-white p-3 rounded-2xl rounded-tl-none text-xs shadow-md">
                        ${msgText}
                        <div class="text-[10px] text-white/70 mt-1 text-right">${time}</div>
                    </div>
                </div>
            `;

            chatBox.insertAdjacentHTML('beforeend', msgHtml);
            input.value = '';
            chatBox.scrollTop = chatBox.scrollHeight;

            // Simulated Auto Reply
            setTimeout(() => {
                const loadingId = 'loading-' + Date.now();
                const loadingHtml = `
                    <div id="${loadingId}" class="flex gap-3 fade-in">
                        <img src="https://ui-avatars.com/api/?name=IR+Support&background=0F172A&color=fff" class="w-8 h-8 rounded-full shadow-sm">
                        <div class="bg-white dark:bg-slate-800 p-3 rounded-2xl rounded-tr-none text-xs shadow-sm dark:text-slate-200 border border-slate-100 dark:border-slate-700 italic flex items-center gap-1">
                            Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø© <span class="animate-bounce">.</span><span class="animate-bounce delay-100">.</span><span class="animate-bounce delay-200">.</span>
                        </div>
                    </div>
                `;
                chatBox.insertAdjacentHTML('beforeend', loadingHtml);
                chatBox.scrollTop = chatBox.scrollHeight;

                setTimeout(() => {
                    document.getElementById(loadingId).remove();
                    const replyHtml = `
                        <div class="flex gap-3 fade-in">
                            <img src="https://ui-avatars.com/api/?name=IR+Support&background=0F172A&color=fff" class="w-8 h-8 rounded-full shadow-sm">
                            <div class="bg-white dark:bg-slate-800 p-3 rounded-2xl rounded-tr-none text-xs shadow-sm dark:text-slate-200 border border-slate-100 dark:border-slate-700">
                                Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„ÙƒØŒ Ø£Ø³ØªØ§Ø° ÙˆØ§Ø¦Ù„. Ø³ÙŠÙ‚ÙˆÙ… Ø£Ø­Ø¯ Ù…ÙˆØ¸ÙÙŠ Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ù…Ø³ØªØ«Ù…Ø±ÙŠÙ† Ø¨Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª. Ø±Ù‚Ù… ØªØ°ÙƒØ±ØªÙƒ Ù‡Ùˆ #${Math.floor(Math.random() * 9000) + 1000}.
                                <div class="text-[10px] text-slate-400 mt-1">${time}</div>
                            </div>
                        </div>
                    `;
                    chatBox.insertAdjacentHTML('beforeend', replyHtml);
                    chatBox.scrollTop = chatBox.scrollHeight;
                }, 1500);

            }, 500);
        }
    </script>
</body>
</html>
